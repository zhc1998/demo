<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"><head>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>首页</title>
        <meta name="keywords" content="首页" />
        <meta name="description" content="首页" />
        <link rel="stylesheet" type="text/css" href="../css/normalize.css"/>
        <script type="text/javascript" src="../js/jquery-1.9.1.min.js"></script>

        <link rel="stylesheet" href="../layui/css/layui.css">
        <script src="../layui/layui.js"></script>

        <link rel="stylesheet" type="text/css" href="../js/bootstrap/css/bootstrap.css" media="all">
        <link rel="stylesheet" type="text/css" href="../common/global.css" media="all">
        <link rel="stylesheet" type="text/css" href="../css/personal.css" media="all">

        <script type="text/javascript" src="../js/jquery.min.js"></script>
        <script type="text/javascript" src="../layui/layui.js"></script>
    </head>
    <style type="text/css">
        .article-container{
            background-color: #ffffff;
            padding-top:20px;
            width:1024px;
            margin:20px auto;
        }

        .article_r{
            padding-top:10px;
            float:right;
        }
        .pulisher,.time,.article_view,.article_comments,.article_del{
            clear:both;
            margin-right:25px;
            font-size: 15px;
        }
        .title{
            font-weight:bold;
            font-size: 30px;
            text-align: center;
        }
        .article_content{
            background: #ffffff;
            clear:both;
            padding:1em 4em;
            margin-top: 40px;
        }
        p{
            text-indent: 2em;
            text-overflow: hidden;
            font-size:18px;
        }

        /*话题内容图片*/
        .ImgContent{
            width:350px;
            margin:0px auto;
            padding: 5px;
            overflow:hidden;

        }

        .NavLinks{
            padding:5px;
            width:100px;
            height: 100px;
            float: left;
            overflow: hidden;
        }

        .NavLinks img{
            width: 100%;
            height: 100%;
        }
        .hitShowPic {
            width:350px;
            clear:both;
            margin-left:430px;
        }
        .hitShowPic span {
            font-size: 15px;
            text-align: center;
        }
        /*以下评论的css*/
        .show_reply_list {
            margin-right:1em;
            color: grey;
        }
        .comment_list {
            background-color: #ffffff;
            padding-top:5px;
            width:900px;
            margin:0 auto;
        }
        .comment {
            width:900px;
            margin-top:10px;
        }
        .comment_details {
            float:right;
        }
        .comment_content {
            clear:both;
            margin:5px 50px;
            font-size:16px;
        }
        .comment_add_or_last {

            margin:0 auto;
            clear: both;
            width:600px;
            height:50px;
            background: #F0F0F0;
            text-align: center;
            font-size:20px;
            line-height: 40px;   //行高（与div保持同高，垂直居中写法）
        margin-bottom: 40px;
        }
        .imgdiv{
            width:80px;
            height:70px;
            float:left;

        }
        .imgcss {
            width:60px;
            height:60px;
            border-radius: 50%;
        }
        .comment_name {
            margin-left:10px;
            color:#3D9EEA;
            font-size:16px;
            font-weight: bolder;
        }
        .layui-icon {
            font-size: 13px;
            color: grey;
        }
        .del {
            float:right;

        }
        .del_comment {
            margin-right:50px;
        }



        .reply_list {
            clear:both;
            display:none;
            width:900px;

            padding-right:15px;
            margin-top:10px;
            font-size:16px;

        }
        .reply {
            clear:both;
            width:700px;
            margin:4px auto;

        }
        .reply_name {
            color:#3D9EEA;
        }
        .del_reply {
            float:right;
        }
        .show_remain_reply {
            width:600px;
            height:40px;
            text-align:center;font-size:18px;
            background-color: #F0F0F0;
            margin:0 auto;
            line-height: 40px;
            display:none;
        }
    </style>
<body>
<input type="hidden" id="ids" th:value="${ids}">
<div class="showall">
    <!--left -->
    <div class="showbot">
        <div id="showbox">


            <img id="pictureUrl" src="" height="400" width="400"/>


        </div><!--展示图片盒子-->
        <div id="showsum">
            <!--展示图片里边-->
        </div>
        <p class="showpage">
            <a href="javascript:void(0);" id="showlast"> < </a>
            <a href="javascript:void(0);" id="shownext"> > </a>
        </p>
    </div>
    <!--conet -->
    <div class="tb-property">
        <div class="tr-nobdr">
            <h3><span id = "commodityName"></span></h3>
        </div>
        <div class="txt">
            <span class="nowprice">￥<span id="commodityPrice"></span></span>
            <div class="cumulative">
                <span class="number ty1">累计售出<br /><em id="add_sell_num_363"><span id="sellquantity"></span></em></span>
                <span class="number tyu">累计评价<br /><em id="add_sell_num_363">25</em></span>
            </div>
        </div>
        <div class="txt-h">
            <span class="tex-o">可选择颜色</span>
            <ul class="glist" id="glist" data-monitor="goodsdetails_fenlei_click">
                <li>
                    <span id="colorName">
                        红色：<input type="radio" name="cName" value="红色">
                        黑色：<input type="radio" name="cName" value="黑色">
                        白色：<input type="radio" name="cName" value="白色">
                        蓝色：<input type="radio" name="cName" value="蓝色">
                    </span>
                </li>
            </ul>
        </div>
        可选择内存 &nbsp;&nbsp;
        <span id="memory">
                        <span id="m0"></span>:<input type="radio" id="me0"  name="ab" value="" onclick="internal(this.value)">
                        <span id="m1"></span>:<input type="radio" id="me1" name="ab" value="" onclick="internal(this.value)">
                        <span id="m2"></span>:<input type="radio" id="me2" name="ab" value="" onclick="internal(this.value)">
                        <span id="m3"></span>:<input type="radio" id="me3" name="ab" value="" onclick="internal(this.value)">
        </span>
        <div class="gcIpt">
            <span class="guT">数量</span>
            <input id="min"  type="button" value="-" onclick="plus()"/>
            <input id="text_box" disabled="true" name="tory" type="text" value="1"style="width:30px; text-align: center; color: #0F0F0F;" />
            <input id="add"  type="button" value="+" onclick="jiaYi()"/>

            库存：<span class="Hgt" id="inventory"></span>
            <input type="hidden" id="inventory2">
        </div>
        <div class="nobdr-btns">
            <button class="addcart hu" onclick="shoppingTrolley()"><img src="../images/shop.png" width="25" height="25"/>加入购物车</button>
            <button class="addcart yh" onclick="buy()"><img src="../images/ht.png" width="25" height="25"/>立即购买</button>
        </div>
        <div class="guarantee">
            <span>邮费：包邮&nbsp;&nbsp;支持货到付款 <a href=""><img src="../images/me.png"/></a></span>
        </div>
    </div>
    <!--right -->
</div>
<!-- 推荐搭配 -->
<div class="gdetail">
    <div class="dp_wrap_title">
        推荐搭配
    </div>
    <div class="dp_wrap">
        <!-- 结算 -->
        <!-- 搭配1 -->
        <div class="dq_ori">
            <a class="dq_ori_prd" href=""><img id="0" src="../images/hdy_07.png"/></a>
            <a class="ori_prd" href=""><span id="name0"></span></a>
            <p class="ori_prd dp_wrap_pprice_ori">
                <input type="checkbox" name="partsPr" id="par0"  onclick="accumulation(0)">
                ￥<span id="pri0"></span>
            </p>
        </div>
        <div class="scroll_wrap">
            <!-- 搭配2 -->
            <div class="dp_prd">
                <div class="icon_plus">+</div>
                <div class="dp_p_wrap">
                    <a class="dp_wrap_pimg" href="" target="_blank"><img id="1" src="../images/list_10.jpg"/></a>
                    <a class="dp_wrap_pname" href="" target="_blank"><span id="name1"></span></a>
                    <p class="dp_wrap_pprice">
                        <label>
                            <input type="checkbox" name="partsPr" id="par1"  onclick="accumulation(1)">
                            ￥<span id="pri1"></span>
                        </label>
                    </p>
                </div>
            </div>
            <!-- 搭配3 -->
            <div class="dp_prd">
                <div class="icon_plus">+</div>
                <div class="dp_p_wrap">
                    <a class="dp_wrap_pimg" href="" target="_blank"><img id="2" src="../images/hdy_09.png"/></a>
                    <a class="dp_wrap_pname" href="" target="_blank"><span id="name2"></span></a>
                    <p class="dp_wrap_pprice">
                        <label>
                            <input type="checkbox" name="partsPr" id="par2" onclick="accumulation(2)">
                            ￥<span id="pri2"></span>
                        </label>
                    </p>
                </div>
            </div>
            <!-- 搭配4 -->
            <div class="dp_prd">
                <div class="icon_plus">+</div>
                <div class="dp_p_wrap">
                    <a class="dp_wrap_pimg" href="" target="_blank"><img id="3" src="../images/list_03.jpg"/></a>
                    <a class="dp_wrap_pname" href="" target="_blank"><span id="name3"></span></a>
                    <p class="dp_wrap_pprice">
                        <label>
                            <input type="checkbox" name="partsPr" id="par3" onclick="accumulation(3)" >
                            ￥<span id="pri3"></span>
                        </label>
                    </p>
                </div>
            </div>
            <!-- 产品结束 -->
        </div>
    </div>
</div>

<!-- 商品介紹 -->
<div class="gdetail">
    <!-- left -->
    <!-- right -->
    <script>
        var detail = document.querySelector('.detail');
        var origOffsetY = detail.offsetTop;
        function onScroll(e) {
            window.scrollY >= origOffsetY ? detail.classList.add('sticky') :
                detail.classList.remove('sticky');
        }
        document.addEventListener('scroll', onScroll);
    </script>
    <div class="detail">
        <div class="active_tab" id="outer">
            <ul class="act_title_left" id="tab">
                <li class="act_active">
                    规格参数
                </li>
                <li>
                    商品评价
                </li>
            </ul>
            <div class="clear"></div>
        </div>
        <div id="content" class="active_list">
            <!--0-->
            <div id="ui-a" class="ui-a">
                <ul style="display:block;">
                    <li>商品名称：<span id="spName"></span></li>
                    <li>商品编号：<span id="serial"></span></li>
                    <li>品牌：<span id="brandName"></span></li>
                    <li>上架时间：<span id="createDate"></span></li>
                    <li>商品毛重：20克</li>
                    <li>库存： <span id="inventoryCount"></span> </li>
                    <li><img src="" id="rc"></li>
                    <li>
                        <a href="#">
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <font size="5">
                                回到顶部☝☝☝
                            </font>
                        </a>
                    </li>

            </div>

            <!--商品评价-->

            <div id="ui-c" class="ui-c">
                <ul style="display:none;">
                    <div class="plmain">
                        <div class="plm clearfix">商品评价</div>
                        <div class="textarea_input"><textarea id="TextArea1"></textarea></div>
                        <a class="dp_wrap_pname" href="javascript:evaluation()" >评论</a>
                        <div class="article-container">
                            <hr>
                            <div class="comment_list">
                                <h3 style="text-indent: 2em;">评论列表</h3>
                                <hr>
                                <div class="comment" id="ping">
                                </div>
                            </div>
                        </div>
                    </div>
                </ul>
            </div>
        </div>
        </div>
        <script>
            $(function(){
                window.onload = function()
                {
                    var $li = $('#tab li');
                    var $ul = $('#content ul');

                    $li.mouseover(function(){
                        var $this = $(this);
                        var $t = $this.index();
                        $li.removeClass();
                        $this.addClass('act_active');
                        $ul.css('display','none');
                        $ul.eq($t).css('display','block');
                    })
                }
            });
        </script>
    </div>
</div>

</body>
<script type="text/javascript">

    $(function(){
        lickMemory();
        queryOneDetails();
        querypl();
        var memo = parseInt(memoryPrice);
        //内存价格加总价 然后乘于商品个数 计算总价格
        var totalPrice = memo+totalPrices;
        $("#commodityPrice").html(count*totalPrice);
        //queryColor();
        //queryAccessories();
    })
    function querypl(){
        var ids = $("#ids").val();
        $.ajax({
            url:"../hb/qurtycom?id="+ids,
            dataType:"json",
            success:function(data){
                var html = "";
                for (var i = 0; i <data.length ; i++) {
                    html+='<div class="imgdiv">' +
                        '<img class="imgcss"  src="./images/user.jpg"/> ' +
                        '</div> <div class="conmment_details" >' +
                        '<div style="float:left;">' +
                        '<span>'+data[i].uid+'</span>' +
                        '</div><div class="del">' +
                        '<span  class="show_reply_list"><a href="#">查看回复</a></span> </div> ' +
                        '<div class="comment_content" >'+ data[i].text+' </div></div>  <hr>'
                }
                $("#ping").html(html);
            }
        })
    }

    //别动
    var pr;
    var typeId;
    var imgSrc;
    var inventoryCount;
    var totalPrices;
    //查询一条详情信息
    function queryOneDetails(val) {
        var ids = $("#ids").val();
        $.ajax({
            url:"../zch/queryOneDetails",
            type:"post",
            data:{ids:ids},
            dataType:"json",
            success:function(data){
                pr = data.commodityPrice;
                typeId = data.typeId;
                imgSrc = data.pictureUrl;
                inventoryCount = data.inventory;
                //商品名称
                $("#commodityName").html(data.commodityName);
                $("#spName").html(data.commodityName);
                //编号
                $("#serial").html(data.artNo);
                //品牌
                $("#brandName").html(data.name)
                //时间
                $("#createDate").html(data.createDate);
                //库存
                $("#inventoryCount").html(data.inventory);
                //商品颜色
                $("#colorName").html(data.colorName);
                //出售数量
                $("#sellquantity").html(data.sellquantity);
                //图片路径
                $("#pictureUrl").attr("src",data.pictureUrl);
                $("#rc").attr("src",data.pictureUrl);

                //数量加一
                toryNumber = $("[name='tory']").val();
                var nu = data.inventory-toryNumber;
                $("#inventory").html(nu);

                //循环获取选中的内存价格
                var memoryPrice = 0;
                var memoryArr=$("[name='ab']");//  selectvalue为radio中选中的值
                for(var i=0;i<memoryArr.length;i++){
                    if(memoryArr[i].checked==true) {
                        memoryPrice=memoryArr[i].value;
                        break;
                    }
                }
                var memo = parseInt(memoryPrice);
                //内存价格加总价 然后乘于个数 计算总价格
                totalPrices = memo+data.commodityPrice;
                $("#commodityPrice").html(toryNumber*totalPrices);

                //调用查询配件 根据商品类型ID
                queryAccessories();

            },
            error:function(){
                alert("查询失败");
            }
        })
    }


    function jiaYi(){
        //数量加一
        var jia = $("#text_box").val();
        var jiaYi = parseInt(jia);
        //获取库存
        var inventory = $("#inventory").html();
        var inventoryCount = parseInt(inventory);

        if(inventoryCount<1){
            alert("别加了")
        }else{
            $("#text_box").val(jiaYi+1);
            //获取当前商品数量
            var count = $("[name='tory']").val();
            var comCount = parseInt(count);
            //库存减去商品数量
            $("#inventory").html(inventoryCount-1);

            //循环获取选中的内存价格
            var memoryPrice = 0;
            var memoryArr=$("[name='ab']");//  selectvalue为radio中选中的值
            for(var i=0;i<memoryArr.length;i++){
                if(memoryArr[i].checked==true) {
                    memoryPrice=memoryArr[i].value;
                    break;
                }
            }
            var memo = parseInt(memoryPrice);
            //内存价格加总价 然后乘于商品个数 计算总价格
            var totalPrice = memo+totalPrices;
            $("#commodityPrice").html(count*totalPrice);
        }

    }

    //数量减一
    function plus() {
        //数量加一
        var jia = $("#text_box").val();
        if(jia<2){
            alert("不能再减了")
        }else{
            var jiaYi = parseInt(jia);
            $("#text_box").val(jiaYi-1);

            //获取库存
            var inventory = $("#inventory").html();
            var inventoryCount = parseInt(inventory);

            //获取当前商品数量
            var count = $("[name='tory']").val();
            var comCount = parseInt(count);
            //库存减去商品数量
            $("#inventory").html(inventoryCount+1);
            //循环获取选中的内存价格
            var memoryPrice = 0;
            var memoryArr=$("[name='ab']");//  selectvalue为radio中选中的值
            for(var i=0;i<memoryArr.length;i++){
                if(memoryArr[i].checked==true) {
                    memoryPrice=memoryArr[i].value;
                    break;
                }
            }
            var memo = parseInt(memoryPrice);
            //内存价格加总价 然后乘于商品个数 计算总价格
            var totalPrice = memo+totalPrices;
            $("#commodityPrice").html(count*totalPrice);
        }
    }


    //加载颜色
    function queryColor(){
        $.ajax({
            url:"../zch/queryColor",
            type:"post",
            dataType:"json",
            success:function(data){
                var html = "";
                for(var i=0;i<data.length;i++){
                    html += "----" + data[i].colorName;
                }
                //$("#colorName").html("<font color='#a52a2a'>可选择颜色:</font>"+html);
            },
            error:function(){
                alert("查询详情失败");
            }
        })
    }

    //设置样式

    //购买
    function buy(){
      var totalmoney=$("#commodityPrice").html();
        var artno=$("#serial").html();
        var amout=$("#text_box").val();
        var color=$("[name='cName']:checked").val();
       var commodityName=$("#commodityName").html()
        location.href="../zhf/tobuypage?totalmoney="+totalmoney+"&artno="+artno+"&amout="+amout+"&color="+color+"&commodityName="+commodityName;
    }
    $(document).ready(function(){
        var showproduct = {
            "boxid":"showbox",
            "sumid":"showsum",
            "boxw":400,//宽度,该版本中请把宽高填写成一样
            "boxh":400,//高度,该版本中请把宽高填写成一样
            "sumw":60,//列表每个宽度,该版本中请把宽高填写成一样
            "sumh":60,//列表每个高度,该版本中请把宽高填写成一样
            "sumi":7,//列表间隔
            "sums":5,//列表显示个数
            "sumsel":"sel",
            "sumborder":1,//列表边框，没有边框填写0，边框在css中修改
            "lastid":"showlast",
            "nextid":"shownext"
        };//参数定义
        // $.ljsGlasses.pcGlasses(showproduct);//方法调用，务必在加载完后执行
    });

    var ii;
    //查询商品配件
    function queryAccessories() {
        // alert(typeId);
        $.ajax({
            url:"../zch/queryAccessories",
            type:"post",
            data:{typeId:typeId},
            dataType:"json",
            success:function(data){
                for(var i=0;i<data.length;i++){
                    //alert(data[i].itemId);
                    if(i==i){
                        // 循环 i下表和 img 的Id保持一致
                        //图片
                        $("#"+i).attr("src",data[i].imgSrc);
                        //配件
                        $("#name"+i).html(data[i].name);
                        //价格
                        $("#pri"+i).html(data[i].price);
                        //给复选框赋值Id
                        $("#par"+i).val(data[i].itemId);
                    }
                }
                //alert($("#par1").val());
            },
            error:function(){
                alert("查询配件失败");
            }
        })
    }

    //累加配件价格
    function accumulation(val) {
        var ce = 0;
        if(val==0){
            var pri = $("#pri0").html();
            priNumber = parseInt(pri);
            ce+=priNumber;
        }
        if(val==1){
            var pri = $("#pri1").html();
            priNumber = parseInt(pri);
            ce+=priNumber;
        }
        if(val==2){
            var pri = $("#pri2").html();
            priNumber = parseInt(pri);
            ce+=priNumber;
        }
        if(val==3){
            var pri = $("#pri3").html();
            priNumber = parseInt(pri);
            ce+=priNumber;
        }

        //alert(ce);
        $("#pr").html(ce);
        //获取计算总价格
        var pri = $("#commodityPrice").html();//获取当前价格
        var price = parseInt(pri);
        $("#commodityPrice").html(ce+price);

    }

    //内存价格加载
    function lickMemory() {
        $.ajax({
            url:"../zch/queryLickMemory",
            type:"post",
            dataType:"json",
            success:function(data){
                for(var i=0;i<data.length;i++){
                    //alert(data[i].memoryName);
                    if(i==i){
                        $("#m"+i).html(data[i].memoryName);
                        $("#me"+i).val(data[i].price);
                    }
                }
                //alert($("#me0").val());
            },
            error:function(){
                alert("查询内存失败");
            }
        })

    }

    //选择内存计算总价
    function internal(val) {
        //循环获取内存价格
        var memoryPrice = 0;
        var memoryArr=$("[name='ab']");//  selectvalue为radio中选中的值
        for(var i=0;i<memoryArr.length;i++){
            if(memoryArr[i].checked==true) {
                memoryPrice=memoryArr[i].value;
                break;
            }
        }

        //当前内存价格
        var price = parseInt(memoryPrice);

        //获取当前总价格
        //var pri = $("#commodityPrice").html();
        var prices = parseInt(pr);

        //计算内存加总价
        var aa = prices+price;
        //获取当前商品数量
        var bb = $("[name='tory']").val();
        var cc = parseInt(bb);
        //总价乘于商品购买数量
        $("#commodityPrice").html(aa*cc);


    }


    //加入购物车
    function shoppingTrolley() {
        //商品名称
        var spName = $("#spName").html();
        //编号
        var serial = $("#serial").html();
        //品牌
        var brandName  = $("#brandName").html();
        //上架时间
        var createDate = $("#createDate").html();
        //重量
        var weight = "20克";
        //图片路径 imgSrc该变量为全局变量
        var igc = imgSrc;
        //商品总价
        var commodityPrice = $("#commodityPrice").html();
        //循环获取选中的颜色
        var colorName = "";
        var array=$("[name='cName']");//  selectvalue为radio中选中的值
        for(var i=0;i<array.length;i++){
            if(array[i].checked==true) {
                colorName=array[i].value;
                break;
            }
        }

        //循环获取内存价格
        var memoryPrice = 0;
        var memoryArr=$("[name='ab']");//  selectvalue为radio中选中的值
        for(var i=0;i<memoryArr.length;i++){
            if(memoryArr[i].checked==true) {
                memoryPrice=memoryArr[i].value;
                break;
            }
        }

        //获取购买数量
        var purchaseQuantity = $("#text_box").val();

        //循环获取选中的配件Id
        var partsId = "";
        var partsPrArr = $("[name='partsPr']");
        for(var i=0;i<partsPrArr.length;i++){
            if(partsPrArr[i].checked==true) {
                partsId +="," + partsPrArr[i].value;
                //break;
            }
        }
        partsId = partsId.substring(1);

        //获取商品Id
        var proId = $("#ids").val();

        $.ajax({
            url:"../cart/add",
            type:"post",
            data:{
                spName:spName,
                serial:serial,
                weight:weight,
                igc:igc,
                commodityPrices:commodityPrice,
                colorName:colorName,
                memoryPrice:memoryPrice,
                purchaseQuantity:purchaseQuantity,
                proId:proId
            },
            success:function(data){
                alert("完成");
            },
            error:function () {
                alert("加入购物车失败");
            }
        })



    }

    //评论
    evaluation = function(){
        var text =$("#TextArea1").val();
        var ids =$("#ids").val();
        $.ajax({
            url:"../hb/addevaluation",
            data:{text:text,ids:ids},
            success:function(data){
                window.location.reload()
            }
        })
    }
</script>
<script type="text/javascript">
    layui.use(['form','layer','jquery','element','laypage','form'],function(){
        var form = layui.form();
        window.layer = layui.layer;
        layedit = layui.layedit;
        window.jQuery = window.$ = layui.jquery;
        var element = layui.element(),form = layui.form();
        layer.photos({
            photos: '#layer-photos-demo'
            ,anim: 5
        });

        $(document).ready(function(){
            //alert($(".comment_list").find(".comment")[0] == undefined);
            if($(".comment_list").find(".comment")[0] == undefined) {
                $(".comment_add_or_last").html("暂无人评论");
            }
            $(document).on('click','.show_reply_list', function(){

                if($(this).closest('.comment').find(".reply_list").css("display") != "none") {
                    $(this).closest('.comment').find(".show_remain_reply").css("display","none");
                    $(this).html("查看回复");

                }else {
                    $(this).closest('.comment').find(".show_remain_reply").css("display","block");
                    $(this).html("收起回复");

                }
                $(this).closest('.comment').find(".reply_list").toggle(500);
            });

            $(document).on('click','.show_remain_reply', function(){
                $(this).html("已显示全部回复");
                //TODO发送数据

            });
            $(document).on('click','.comment_add_or_last', function(){
                var getMoreComment = $(this);
                //TODO如果获取的数据为零
                getMoreComment.html("没有更多评论了");
            });

        });

    });
</script>
</html>